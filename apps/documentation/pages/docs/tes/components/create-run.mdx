import CreateRun from '@/components/packages/tes/createRun/createRun';
import ComponentName from '@/components/common/ComponentName';
import { Tabs, Callout } from 'nextra/components';

# TES Create Run Component

<ComponentName
  tagName='ecc-client-ga4gh-tes-create-run'
  reactTagName='ECCClientGa4ghTesCreateRun'
  version='0.1.1'
  beta
/>

## Overview

The TES Create Run component is used to create task runs using the Task Execution Service (TES) API. This component provides a user-friendly interface for submitting new tasks to a TES-compliant service.

<Callout type='info'>
  <div className='text-sm'>
    For more details, refer to the [TES API POST endpoint
    specification](https://github.com/elixir-cloud-aai/proTES/blob/dev/pro_tes/api/9e9c5aa.task_execution_service.openapi.yaml#L128).
  </div>
</Callout>

## Preview

<CreateRun />

## Examples

### Basic Usage

<Tabs items={['React', 'HTML']}>
  <Tabs.Tab>

    ```tsx showLineNumbers {2, 5} copy filename="ECCClientGa4ghTesCreateRun.tsx"
    import React from 'react';
    import ECCClientGa4ghTesCreateRun from '@elixir-cloud/tes/dist/react/create-run/index';

    export default function CreateRun() {
      return <ECCClientGa4ghTesCreateRun />;
    }
    ```

  </Tabs.Tab>
  
  <Tabs.Tab>

    ```html showLineNumbers {4, 7} copy filename="index.html"
    <html lang="en">
      <head>
        <title>TES Create Run Example</title>
        <script src="https://esm.sh/@elixir-cloud/tes/dist/index.min.js"></script>
      </head>
      <body>
        <ecc-client-ga4gh-tes-create-run></ecc-client-ga4gh-tes-create-run>
      </body>
    </html>
    ```

  </Tabs.Tab>
</Tabs>

## Properties

| Property  | Required | Default                                   | Type     | Description              |
| --------- | -------- | ----------------------------------------- | -------- | ------------------------ |
| `baseURL` | false    | `https://protes.rahtiapp.fi/ga4gh/tes/v1` | `String` | Base URL for the TES API |

### baseURL

The `baseURL` property specifies the base URL for the TES API. The component will append `/tasks` to this URL to form the complete endpoint for creating a task run.

## Usage Notes

1. **API Endpoint**: The component uses the `baseURL` + `/tasks` as the endpoint for creating a new task run via a POST request.
2. **Data Validation**: While the component includes client-side data validation, it's important to ensure that the data you submit conforms to the TES API specifications.
3. **Error Handling**: The component will display error messages if the task creation fails. Check the console for more detailed error information.
