{"version":3,"file":"wesRun.js","sourceRoot":"","sources":["../../../../../src/components/wes-run/definition/wesRun.ts"],"names":[],"mappings":";AAAA,OAAO,EACL,WAAW,EACX,aAAa,EACb,IAAI,EACJ,UAAU,GACX,MAAM,yBAAyB,CAAC;AACjC,OAAO,QAAQ,MAAM,sBAAsB,CAAC;AAC5C,OAAO,MAAM,MAAM,oBAAoB,CAAC;AACxC,OAAO,EAAE,cAAc,EAAE,aAAa,EAAE,MAAM,wBAAwB,CAAC;AAOxD,IAAM,MAAM,GAAZ,MAAM,MAAO,SAAQ,WAAW;IAAhC;;QACP,YAAO,GAAG,EAAE,CAAC;QAEb,OAAE,GAAG,EAAE,CAAC;QAER,UAAK,GAAG,EAAE,CAAC;QAEX,UAAK,GAAG,KAAK,CAAC;QAER,cAAS,GAAG,IAAI,CAAC;QAEjB,SAAI,GAAQ,EAAE,CAAC;QAEf,gBAAW,GAAQ,EAAE,CAAC;QAUlC,oCAAoC;QACpC,iBAAY,GAAG,KAAK,IAAI,EAAE;YACxB,gCAAgC;YAChC,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;gBAC7B,MAAM,cAAc,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;gBAC5C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBACtB,IAAI,CAAC,WAAW,GAAG,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;gBAC5C,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;aACxB;QACH,CAAC,CAAC;QAEF,oCAAoC;QACpC,gBAAW,GAAG,KAAK,IAAI,EAAE;YACvB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,sEAAsE;YACtE,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;gBAC/C,IAAI,CAAC,IAAI,GAAG,MAAM,aAAa,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;gBACvD,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;aACxB;QACH,CAAC,CAAC;IACJ,CAAC;IA5BC,iBAAiB;QACf,KAAK,CAAC,iBAAiB,EAAE,CAAC;IAC5B,CAAC;IAED,oBAAoB;QAClB,KAAK,CAAC,oBAAoB,EAAE,CAAC;IAC/B,CAAC;CAsBF,CAAA;AA1CO;IAAL,IAAI;uCAAc;AAEb;IAAL,IAAI;kCAAS;AAER;IAAL,IAAI;qCAAY;AAEX;IAAL,IAAI;qCAAe;AAER;IAAX,UAAU;yCAAkB;AAEjB;IAAX,UAAU;oCAAgB;AAEf;IAAX,UAAU;2CAAuB;AAbf,MAAM;IAL1B,aAAa,CAAC;QACb,IAAI,EAAE,0BAA0B;QAChC,QAAQ;QACR,MAAM;KACP,CAAC;GACmB,MAAM,CA2C1B;eA3CoB,MAAM","sourcesContent":["import {\n  FASTElement,\n  customElement,\n  attr,\n  observable,\n} from '@microsoft/fast-element';\nimport template from './wesRun.template.js';\nimport styles from './wesRun.styles.js';\nimport { cancelWorkflow, fetchWorkflow } from '../../../data/index.js';\n\n@customElement({\n  name: 'ecc-client-ga4gh-wes-run',\n  template,\n  styles,\n})\nexport default class WESRun extends FASTElement {\n  @attr baseURL = '';\n\n  @attr id = '';\n\n  @attr state = '';\n\n  @attr admin = false;\n\n  @observable isLoading = true;\n\n  @observable data: any = {};\n\n  @observable delResponse: any = {};\n\n  connectedCallback() {\n    super.connectedCallback();\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n  }\n\n  // Handles deletion of this workflow\n  handleDelete = async () => {\n    // Delete if baseURL is privided\n    if (this.baseURL.length !== 0) {\n      await cancelWorkflow(this.baseURL, this.id);\n      this.isLoading = true;\n      this.delResponse = await this.handleFetch();\n      this.isLoading = false;\n    }\n  };\n\n  // Fetched the workflow with this ID\n  handleFetch = async () => {\n    this.isLoading = true;\n    // Only fetch the data if not already fetched and base URL is provided\n    if (this.isLoading && this.baseURL.length !== 0) {\n      this.data = await fetchWorkflow(this.baseURL, this.id);\n      this.isLoading = false;\n    }\n  };\n}\n"]}