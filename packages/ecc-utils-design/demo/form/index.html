<!DOCTYPE html>
<html lang="en-GB">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="./logo-elixir-cloud-aai.svg" type="image/x-icon" />

    <title>ecc-utils-design</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body>
    <div class="p-10">
      <div id="demo"></div>
    </div>

    <script type="module">
      import { html, render } from "lit";
      import "../../dist/components/form/index.js";

      render(
        html`<ecc-d-form
          @ecc-submit=${async (e) => {
            try {
              console.log("form - submitted", e.detail);
              document.querySelector("ecc-d-form").loading();
              await fetch("https://jsonplaceholder.typicode.com/posts");
              document
                .querySelector("ecc-d-form")
                .success({ message: "Data fetched successfully" });
            } catch (error) {
              document
                .querySelector("ecc-d-form")
                .error({ message: "Error fetching data" });
            }
          }}
        >
          <ecc-d-form-input
            key="name"
            label="Name"
            required
            tooltip="Enter name"
            @change=${() => {
              console.log("chenaged");
            }}
            @ecc-input=${(e) => {
              console.log("name", e);
            }}
            @keydown=${(e) => {
              console.log("keydown", e);
            }}
            @blur=${() => {
              console.log("clicked");
            }}
          ></ecc-d-form-input>

          <ecc-d-form-input
            key="email"
            label="Email"
            tooltip="Enter your email address"
          ></ecc-d-form-input>

          <ecc-d-form-input
            key="18+"
            label="18+"
            type="switch"
            tooltip="Are you over 18 years old?"
          ></ecc-d-form-input>

          <ecc-d-form-input
            key="id"
            label="ID"
            type="file"
            required
            tooltip="Your ID document"
            @dragover=${() => {
              console.log("dragged to");
            }}
            @input=${() => {
              console.log("drag leave");
            }}
          ></ecc-d-form-input>

          <ecc-d-form-input
            key="id2"
            label="TUS ID"
            type="file"
            protocol="tus"
            endpoint="https://tusd.tusdemo.net/files/"
            tooltip="Your ID document"
          ></ecc-d-form-input>

          // continue from modifying how options are sent
          <ecc-d-form-input
            required
            multiple
            type="select"
            label="Gender"
            options='["Female", "Female", "Male", "Do not want to Disclose-none"]'
            options-prefix-icons
            options-suffix-icons
            @change=${() => {
              console.log("changed");
            }}
            @ecc-input=${() => {
              console.log("changes");
            }}
          >
          </ecc-d-form-input>

          <ecc-d-form-group type="group" label="Address" key="address">
            <ecc-d-form-group
              required
              type="array"
              label="Details"
              instances="1"
              max="2"
              min="1"
            >
              <ecc-d-form-input
                type="switch"
                key="isPrimary"
                label="Primary Address"
              >
              </ecc-d-form-input>
              <ecc-d-form-input
                key="houseNumber"
                label="House Number"
                tooltip="Your house number"
                @ecc-input=${() => {
                  console.log("house number changed");
                }}
              >
              </ecc-d-form-input>
              <ecc-d-form-input required key="street" label="Street">
              </ecc-d-form-input>
              <ecc-d-form-input required key="city" label="City">
              </ecc-d-form-input>

              <ecc-d-form-input required key="country" label="Country">
              </ecc-d-form-input>

              <ecc-d-form-group
                required
                type="array"
                label="Details"
                instances="1"
                max="2"
                min="1"
              >
                <ecc-d-form-input
                  type="switch"
                  key="isPrimary"
                  label="Primary Address"
                >
                </ecc-d-form-input>
                <ecc-d-form-input
                  key="houseNumber"
                  label="House Number"
                  tooltip="Your house number"
                  @ecc-input=${() => {
                    console.log("house number changed");
                  }}
                >
                </ecc-d-form-input>
                <ecc-d-form-input required key="street" label="Street">
                </ecc-d-form-input>
                <ecc-d-form-input required key="city" label="City">
                </ecc-d-form-input>

                <ecc-d-form-input required key="country" label="Country">
                </ecc-d-form-input>
              </ecc-d-form-group>
            </ecc-d-form-group>
          </ecc-d-form-group>
        </ecc-d-form> `,
        document.querySelector("#demo")
      );
    </script>
  </body>
</html>
