<!DOCTYPE html>
<html lang="en-GB">
	<head>
		<meta charset="utf-8" />
		<style>
			body {
				background: #f5f5f5;
			}
		</style>
		<title>ecc-utils-design</title>
		<script src="https://cdn.tailwindcss.com"></script>
	</head>
	<body>
		<div class="p-10">
			<div id="demo"></div>
		</div>

		<script type="module">
			import { html, render } from "lit";
			import "../../dist/details/index.js";

			const data = {
			  company: {
			    name: "TechCorp",
			    industry: "Technology",
			    employees: [
			      {
			        id: 101,
			        name: "Alice Johnson",
			        position: "Software Engineer",
			        skills: ["Java", "JavaScript", "SQL"],
			        projects: [
			          {
			            projectId: "P123",
			            projectName: "SmartApp",
			            startDate: "2022-05-01",
			            endDate: "2023-01-15",
			            status: "Completed",
			            team: ["Alice Johnson", "Bob Smith"],
			          },
			          {
			            projectId: "P124",
			            projectName: "DataAnalyzer",
			            startDate: "2023-02-01",
			            endDate: null,
			            status: "In Progress",
			            team: ["Alice Johnson", "Charlie Brown"],
			          },
			        ],
			        address: {
			          street: "123 Tech Street",
			          city: "Techville",
			          zipCode: "T12345",
			          country: "Techland",
			        },
			      },
			      {
			        id: 102,
			        name: "Bob Smith",
			        position: "UI/UX Designer",
			        skills: ["UI Design", "CSS", "Adobe XD"],
			        projects: [
			          {
			            projectId: "P123",
			            projectName: "SmartApp",
			            startDate: "2022-05-01",
			            endDate: "2023-01-15",
			            status: "Completed",
			            team: ["Alice Johnson", "Bob Smith"],
			          },
			          {
			            projectId: "P125",
			            projectName: "MobileApp",
			            startDate: "2023-03-01",
			            endDate: null,
			            status: "In Progress",
			            team: ["Bob Smith", "Eve White"],
			          },
			        ],
			        address: {
			          street: "456 Design Avenue",
			          city: "DesignCity",
			          zipCode: "D67890",
			          country: "Designland",
			        },
			      },
			    ],
			  },
			  clients: [
			    {
			      clientId: "C001",
			      clientName: "GlobalTech Solutions",
			      contactPerson: "John Johnson",
			      email: "john.johnson@globaltech.com",
			      projects: ["SmartApp", "DataAnalyzer"],
			    },
			    {
			      clientId: "C002",
			      clientName: "DesignMaster Co.",
			      contactPerson: "Eva Designer",
			      email: "eva.designer@designmaster.com",
			      projects: ["MobileApp"],
			    },
			  ],
			  financials: {
			    revenue: 1500000.5,
			    expenses: {
			      operating: 500000.25,
			      marketing: 200000.75,
			      research: 100000.5,
			    },
			    profit: 696969,
			  },
			  marketSegments: ["Enterprise", "Startups", "Government"],
			  partners: [
			    {
			      partnerId: "P001",
			      partnerName: "InnoTech Innovations",
			      contactPerson: "Mark Innovator",
			      email: "mark@innotech.com",
			      projects: ["SmartApp"],
			    },
			    {
			      partnerId: "P002",
			      partnerName: "CreatiDesign Solutions",
			      contactPerson: "Lisa Designer",
			      email: "lisa@creatidesign.com",
			      projects: ["MobileApp"],
			    },
			  ],
			  debt: {
			    partnerId: "P001",
			    partnerName: "InnoTech Innovations",
			    contactPerson: "Mark Innovator",
			    email: "mark@innotech.com",
			    projects: ["SmartApp"],
			  },
			};

			const fields = [
			  {
			    tabGroup: "Company Info",
			    children: [{ path: "company.name" }, { path: "company.industry" }],
			  },
			  {
			    tabGroup: "Employees",
			    children: [{ path: "company.employees", copy: true }],
			  },
			  {
			    tabGroup: "Clients",
			    children: [{ path: "clients" }],
			  },
			  {
			    tabGroup: "Market Segments",
			    children: [
			      { path: "financials.revenue" },
			      { path: "financials.expenses.operating" },
			      { path: "financials.expenses.marketing" },
			      { path: "financials.expenses.research" },
			      { path: "financials.profit" },
			      { path: "marketSegments" },
			      { path: "debt" },
			    ],
			  },
			  {
			    tabGroup: "Partners",
			    children: [{ path: "partners" }],
			  },
			];

			const buttons = [
			  {
			    key: "1",
			    isPresent: true,
			    name: "Button 1",
			    size: "medium",
			    variant: "primary",
			    outline: false,
			    pill: false,
			    icon: {
			      name: "trash",
			      viewBox: "0 0 16 16",
			      path: "M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z",
			    },
			  },
			  {
			    key: "2",
			    isPresent: false,
			    name: "Button 2",
			    size: "medium",
			    variant: "warning",
			    outline: true,
			    pill: false,
			  },
			];

			render(
			  html`<ecc-utils-design-details
			    .data=${data}
			    .fields=${fields}
			    .buttons=${buttons}
			  >
			    <div slot="footer">Dec 13 2023</div>
			  </ecc-utils-design-details>`,
			  document.querySelector("#demo")
			);

			const detailsElement = document.querySelector("ecc-utils-design-details");

			detailsElement.addEventListener("ecc-utils-button-click", async (event) => {
			  const { index } = event.detail;
			  detailsElement.setButtonLoading(index, true);

			  await new Promise((resolve) => {
			    setTimeout(() => {
			      resolve();
			    }, 2000);
			  });

			  detailsElement.setButtonLoading(index, false);
			});

			detailsElement.addEventListener("ecc-utils-button-click", (event) => {
			  const { Key } = event.detail;
			  console.log(`Button ${Key} clicked!`);
			  console.log(event);
			});

			// fix details component docs
		</script>
	</body>
</html>